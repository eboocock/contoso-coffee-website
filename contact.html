<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Contact • Contoso Coffee</title>
  <meta name="description" content="Contact Contoso Coffee — commercial and consumer coffee solutions"/>
  <link rel="icon" href="assets/img/favicon.svg" type="image/svg+xml"/>
  <style>
:root{
  --bg:#0f0a08;
  --surface:#17110e;
  --card:#211813;
  --text:#f5efe9;
  --muted:#cbbfba;
  --brand:#c08a59;
  --line:rgba(255,255,255,.08);
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:Inter,Segoe UI,Roboto,Arial,sans-serif;line-height:1.55}
a{color:var(--brand);text-decoration:none}
a:hover{text-decoration:underline}
.container{max-width:1180px;margin:0 auto;padding:0 22px}
.nav{position:sticky;top:0;z-index:30;background:rgba(15,10,8,.75);backdrop-filter:blur(10px);border-bottom:1px solid var(--line)}
.nav .row{display:flex;gap:16px;align-items:center;justify-content:space-between;padding:12px 0}
.brand{display:flex;gap:10px;align-items:center}
.brand img{height:34px}
.menu{display:flex;gap:14px}
.menu a{padding:8px 12px;border-radius:10px}
.menu a.active,.menu a:hover{background:rgba(255,255,255,.06)}
.hero{position:relative}
.hero img{width:100%;height:56vh;object-fit:cover;border-bottom:1px solid var(--line)}
.hero .overlay{position:absolute;inset:0;display:grid;place-items:center;text-align:center;background:linear-gradient(transparent,rgba(15,10,8,.35),rgba(15,10,8,.92))}
h1{font-size:46px;margin:0 0 8px}
.lead{font-size:18px;color:var(--muted);max-width:900px;margin:0 auto}
.section{padding:36px 0}
.kicker{color:var(--brand);text-transform:uppercase;letter-spacing:.12em;font-size:12px;margin-bottom:6px}
.grid{display:grid;gap:20px}
.cards{grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
.card{background:var(--card);border:1px solid var(--line);border-radius:18px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,.28)}
.card .thumb{width:100%;aspect-ratio:16/9;object-fit:cover;display:block}
.card .pad{padding:16px}
.badge{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(192,138,89,.16);color:#efd9c4;border:1px solid rgba(192,138,89,.35);font-size:12px}
.table{width:100%;border-collapse:collapse}
.table th,.table td{border-bottom:1px solid var(--line);padding:8px;text-align:left}
.cta{display:inline-block;padding:12px 16px;border-radius:12px;background:var(--brand);color:#160e0b;font-weight:800;border:1px solid var(--line)}
.footer{margin-top:56px;border-top:1px solid var(--line);padding:28px 0;color:var(--muted);background:var(--surface)}
/* Accordion (products) */
.accordion-controls{display:flex;gap:10px;align-items:center;margin:8px 0 18px}
.acc-btn{width:100%;text-align:left;display:flex;justify-content:space-between;align-items:center;padding:16px 18px;border-radius:14px;background:rgba(255,255,255,.04);border:1px solid var(--line);font-weight:800;font-size:17px;color:inherit;box-shadow:0 6px 20px rgba(0,0,0,.25)}
.acc-btn:hover{background:rgba(255,255,255,.06)}
.acc-btn .chev{transition:transform .18s ease}
.acc-panel{display:none;padding:12px 0 4px}
.acc-panel.open{display:block}
/* Product internals */
.product-meta{display:flex;gap:12px;flex-wrap:wrap;margin:8px 0}
.pill{padding:6px 10px;border:1px solid var(--line);border-radius:999px;color:var(--muted);font-size:12px}
.product-body{display:grid;grid-template-columns:1fr 1fr;gap:20px}
.product-body h4{margin:0 0 6px 0}
ul.feats{margin:8px 0 0 18px}
.specs{width:100%;border-collapse:collapse}
.specs th,.specs td{border-bottom:1px dashed var(--line);padding:8px 10px;text-align:left;font-size:14px}
.specs th{width:42%;color:var(--muted);font-weight:600}
.card-footer{display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap;margin-top:12px}
.price{font-weight:800;font-size:16px}
input,select,textarea{background:#130d0a;color:var(--text);border:1px solid var(--line);padding:12px;border-radius:10px;font-size:15px}
button{all:unset}
button.cta{cursor:pointer}
@media (max-width:860px){.product-body{grid-template-columns:1fr}.hero img{height:44vh}}


/* Contact form layout */
.contact-wrap{max-width:840px;margin:0 auto}
.form-card{background:var(--card);border:1px solid var(--line);border-radius:18px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,.28)}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.field{display:flex;flex-direction:column;gap:6px}
.field label{font-size:13px;color:var(--muted)}
.field.full{grid-column:1 / -1}
.form-actions{display:flex;justify-content:flex-end;margin-top:8px}
.help{font-size:12px;color:var(--muted)}
@media (max-width:720px){.form-grid{grid-template-columns:1fr}}
</style>
</head>
<body>
  
<div class="nav">
  <div class="container row">
    <a class="brand" href="index.html" aria-label="Contoso Coffee Home">
      <img src="assets/img/logo.svg" alt="Contoso Coffee logo"/><strong>Contoso Coffee</strong>
    </a>
    <nav class="menu"><a href="index.html" class="">Home</a><a href="products.html" class="">Products</a><a href="customers.html" class="">Customer Success</a><a href="contact.html" class="active">Contact</a></nav>
  </div>
</div>


<div class="container section contact-wrap">
  <div class="kicker">Let's talk</div>
  <h2>Contact Us</h2>
  <p class="lead">Tell us about your needs. We’ll follow up within one business day.</p>

  <div class="form-card">
    <div class="pad">
      <div class="badge" style="margin:4px 0 12px 0">Submits to Power Automate → Dataverse Lead</div>
      <form id="contactForm" onsubmit="event.preventDefault(); handleSubmit();">
        <div class="form-grid">
          <div class="field">
            <label for="firstName">First name</label>
            <input id="firstName" name="firstName" type="text" placeholder="First name" required/>
          </div>
          <div class="field">
            <label for="lastName">Last name</label>
            <input id="lastName" name="lastName" type="text" placeholder="Last name" required/>
          </div>
          <div class="field">
            <label for="company">Company</label>
            <input id="company" name="company" type="text" placeholder="Company name" required/>
          </div>
          <div class="field">
            <label for="email">Email</label>
            <input id="email" name="email" type="email" placeholder="Email address" required/>
          </div>
          <div class="field full">
            <label for="interest">Area of interest</label>
            <select id="interest" name="interest" required>
              <option value="">Select an option</option>
              <option>Commercial Machines</option>
              <option>Consumer Machines</option>
              <option>Beans & Subscriptions</option>
              <option>Training & Service</option>
              <option>Other</option>
            </select>
            <div class="help">Pick the closest fit — we’ll route to the right specialist.</div>
          </div>
          <div class="field full">
            <label for="message">Message</label>
            <textarea id="message" name="message" rows="4" placeholder="How can we help?"></textarea>
          </div>
        </div>
<div class="form-actions" style="gap:10px">
  <button type="button" class="cta" onclick="fillDemo()">Demo Lead</button>
  <button class="cta" type="submit">Send</button>
</div>

      </form>
    </div>
  </div>
</div>

  <div class="footer">
    <div class="container">
      <div style="display:flex;justify-content:space-between;gap:16px;flex-wrap:wrap">
        <div>© 2025 Contoso Coffee. All rights reserved.</div>
        <div>Ethically sourced • Carbon neutral roasting • Global service network</div>
      </div>
    </div>
  </div>
<script>
  // 1) If you followed Option A, put your logic.azure.com URL here. https://e8f70a479a6de7fa8e5f200b78db5b.16.environment.api.powerplatform.com:443/powerautomate/automations/direct/workflows/e3568631792e4c5ebd373d303d45dc65/triggers/manual/paths/invoke/?api-version=1&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=y-cVgYn5r_SDJ6tTA2NXKnj2edMF0JXWNlrYfNPCtM4
  // 2) If you built Option B, put your Azure Function URL here.
  const FLOW_URL = "https://e8f70a479a6de7fa8e5f200b78db5b.16.environment.api.powerplatform.com:443/powerautomate/automations/direct/workflows/417a24ce6d1c47fc828c87cebcefd68e/triggers/manual/paths/invoke/?api-version=1&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=vsBnv3fGS3MGTtUBGeU13PmhNHkSS4U8YJc3SFloVRk";

  async function postJson(url, payload) {
    return fetch(url, {
      method: "POST",
      mode: "cors",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });
  }

  async function postText(url, payload, mode = "cors") {
    // text/plain reduces CORS friction in some browsers/gateways
    return fetch(url, {
      method: "POST",
      mode,
      headers: { "Content-Type": "text/plain;charset=UTF-8" },
      body: JSON.stringify(payload)
    });
  }

  async function handleSubmit() {
    const form = document.getElementById('contactForm');
    const data = Object.fromEntries(new FormData(form).entries());
    const payload = {
      firstName: data.firstName,
      lastName: data.lastName,
      company: data.company,
      email: data.email,
      interest: data.interest,
      message: data.message || "",
      source: "Contoso Coffee Website",
      submittedUtc: new Date().toISOString()
    };
    
<script>
  function fillDemo() {
    const f = document.getElementById('contactForm');
    if (!f) return;

    f.firstName.value = 'Abbi';
    f.lastName.value  = 'Atkins';
    f.company.value   = 'Dutch Brothers';
    f.email.value     = 'abbiatkinsdemo@outlook.com';
    f.interest.value  = 'Commercial Machines'; // must match the option text
    f.message.value   = 'We need to outfit new locations with high output espresso machines.';

    // Optional: bring focus to Send for quick submit
    const sendBtn = f.querySelector('button[type="submit"]');
    if (sendBtn) sendBtn.focus();
  }
</script>

    // Attempt 1: JSON (best)
    try {
      const r1 = await postJson(FLOW_URL, payload);
      if (r1.ok) { alert("Thanks! Your message was sent."); form.reset(); return; }
      throw new Error("Status " + r1.status);
    } catch (e1) {
      console.warn("JSON post failed:", e1);
    }

    // Attempt 2: text/plain (simple CORS)
    try {
      const r2 = await postText(FLOW_URL, payload, "cors");
      if (r2.ok) { alert("Thanks! Your message was sent."); form.reset(); return; }
      throw new Error("Status " + r2.status);
    } catch (e2) {
      console.warn("text/plain post failed:", e2);
    }

    // Attempt 3: no-cors (fire-and-forget)
    try {
      await postText(FLOW_URL, payload, "no-cors");
      alert("Submitted. If it doesn't appear, check your Flow run history.");
      form.reset();
    } catch (e3) {
      alert("We couldn't submit due to network restrictions. Please email sales@contoso.example.");
      console.error(e3);
    }
  }
</script>
</body>
</html>
